extends ../layout

block header
  nav(class="navbar navbar-expand-md navbar-dark fixed-top bg-dark")
    a(class="navbar-brand" href="/admin") Área Administrativa
    button(class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation")
      span(class="navbar-toggler-icon")
    div(class="collapse navbar-collapse" id="navbarCollapse")
      ul(class="navbar-nav mr-auto")
        li(class="nav-item")
          a(class="nav-link" href="/") Home
        li(class="nav-item")
          a(class="nav-link" href="users") Usuários
        li(class="nav-item")
          a(class="nav-link" href="services") Serviços
        li(class="nav-item")
          a(class="nav-link" href="calling") Chamados
      a(class="btn btn-lg btn-outline-light font-weight-bolder", href="/users/create") Cadastrar Novo Usuário

block content
  main(role="main" class="container")
    div(class="container w-50 mt-4")
      
    if success
      
      div(class="px-3 py-2 mt-3 mb-2 text-light bg-success rounded box-shadow row")
        div(class="col-10")
          p(class="font-weight-bolder p-2 my-1") #{message}
        div(class="col-2")
          button(class="btn btn-light m-2 float-right" type="button")
            a(class="text-success" href="/users/customers") Voltar
        
    else if error
      
      div(class="px-3 py-2 mt-3 mb-2 text-light bg-danger rounded box-shadow")
        p(class="lh-100 font-weight-bolder my-1") #{message}
          small #{error}
          
    else
    
      div(class="d-flex align-items-center p-3 mt-0 mb-3 text-white-50 bg-info rounded box-shadow")
        div(class="lh-100")
          h3(class="mt-6 text-light lh-100")= title

      each user in users
        div(class="media row text-muted px-2 py-1")
          div(class="media-body col-md-9 py-2 lh-125 border border-dark rounded")
            div(class="d-flex lead justify-content-between align-items-center w-100")
              p(class="lead") Nome: 
                strong(class="text-dark") #{user.nome}
              span(class="d-block") #{user.perfil}
          div(class="d-flex col-md-3 justify-content-between text-right")
            button(class="btn btn-primary mx-2" type="button")
              a(class="text-white" href="/users/" + user._id) Detalhes
            button(class="btn btn-primary mx-2" type="button")
              a(class="text-white" href="/users/edit/" + user._id) Editar
            button(class="btn btn-primary mx-2" type="button")
              a(class="text-white" href="/users/delete/" + user._id) Excluir
