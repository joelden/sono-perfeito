extends ../layout

block header
  nav(class="navbar navbar-expand-md navbar-dark fixed-top bg-dark")
    a(class="navbar-brand" href="/admin") Área Administrativa
    button(class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation")
      span(class="navbar-toggler-icon")
    div(class="collapse navbar-collapse" id="navbarCollapse")
      ul(class="navbar-nav mr-auto")
        li(class="nav-item")
          a(class="nav-link" href="/") Home
        li(class="nav-item")
          a(class="nav-link" href="users") Usuários
        li(class="nav-item")
          a(class="nav-link" href="services") Serviços
        li(class="nav-item")
          a(class="nav-link" href="calling") Chamados
      a(class="btn btn-lg btn-outline-light font-weight-bolder", href="/calling/create") Sair

block content
  main(role="main" class="container")
    div(class="container w-100 mt-4")
      
    if success
    
      div(class="px-3 py-2 mt-3 mb-2 text-light bg-success rounded box-shadow row")
        div(class="col-10")
          p(class="font-weight-bolder p-2 my-1") #{message} #{calling.encaminhadoPara}
        div(class="col-2")
          button(class="btn btn-light m-2 float-right" type="button")
            a(class="text-success" href="/calling/") Voltar
        
    else if error
      
      div(class="container w-50 mt-3")
        div(class="px-3 py-2 mt-3 mb-2 text-light bg-danger rounded box-shadow")
          p(class="lh-100 font-weight-bolder my-1") #{message}
          p
            small #{error}
        div(class="w-25 text-center mx-auto bg-danger rounded")
          button(class="btn btn-outline-danger m-2" type="button")
            a(class="text-white" href="/calling/create") Voltar
            
    else
      
      div(class="d-flex align-items-center p-3 mt-0 mb-3 text-white-50 bg-info rounded box-shadow")
        div(class="lh-100")
          h3(class="mt-6 text-light lh-100")= title
      
      each calling in callings
        div(class="media text-muted m-4 p-2 row")
          div(class="media-body py-2 lh-125 border border-dark rounded col-md-9")
            div(class="d-flex lead justify-content-between align-items-center w-100")
              p(class="lead") Nome do Chamado: 
                strong(class="text-dark") #{calling.chamado}
            div(class="d-flex lead justify-content-between align-items-center w-100")
              p(class="lead") Resumo: 
                strong(class="text-dark") #{calling.resumo}
            div(class="d-flex lead justify-content-between align-items-center w-100")
              p(class="lead") Status: 
                strong(class="text-dark") #{calling.status}
            div(class="d-flex lead justify-content-between align-items-center w-100")
              p(class="lead") Encaminhado Para: 
                strong(class="text-dark") #{calling.encaminhadoPara}
          div(class="media-body py-2 h-100 col-md-3")
            div(class="d-flex justify-content-between")
              button(class="btn btn-primary my-3 py-3 w-100" type="button")
                a(class="text-white" href="/calling/edit/" + calling._id) Encaminhar
            div(class="d-flex justify-content-between")
              button(class="btn btn-primary my-3 py-3 w-100" type="button")
                a(class="text-white" href="/calling/edit/" + calling._id) Fechar Chamado
